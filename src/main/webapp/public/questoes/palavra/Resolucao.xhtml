<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Facelet Title</title>
        <h:outputStylesheet library="css" name="jsfcrud.css"/>
        <h:outputScript library="js" name="jsfcrud.js"/>   
    </h:head>
    <h:body>
        <h:form id="mainForm">
            <p:layout id="layoutPanel" fullPage="true">

                <p:layoutUnit id="north" position="north">
                    <p:selectOneMenu id="selectNivel" value="#{resolucaoTraduzPalavraController.nivel}">
                        <f:selectItems value="#{nivelQuestaoController.items}" var="nivel"
                                       itemValue="#{nivel}"
                                       itemLabel="#{nivel.descricao}"/>
                    </p:selectOneMenu>    
                    <p:spinner id="nQuestoes" value="#{resolucaoTraduzPalavraController.quantidade}" min="1"/>
                    <p:commandButton id="prepareButton" value="PREPARE" actionListener="#{resolucaoTraduzPalavraController.prepare}" update="questoesForm:questoesPanel"/>
                </p:layoutUnit>

                <p:layoutUnit id="center" position="center">
                    <h:form id="questoesForm">
                        <p:messages autoUpdate="true" closable="true" showIcon="false"/>

                        <p:panel id="questoesPanel" visible="#{resolucaoTraduzPalavraController.questaoAtual!=null}">
                            <f:facet name="header">
                                <h:outputText value="Questão: #{resolucaoTraduzPalavraController.questaoAtual.titulo}"/> 
                                <h:outputText value="itens restantes: #{resolucaoTraduzPalavraController.restante}" rendered="#{resolucaoTraduzPalavraController.restante!=-1}"/>
                            </f:facet>

                            <h:outputText value="#{resolucaoTraduzPalavraController.questaoAtual.enunciado}" escape="false"/>
                            <br/>
                            <p:outputLabel value="#{resolucaoTraduzPalavraController.questaoAtual.palavraLatim.palavra}"/>
                            <br/>
                            <p:selectOneMenu id="choose" value="#{resolucaoTraduzPalavraController.selected}" style="width: 300px" filter="true">
                                <f:selectItem itemLabel="Escolha uma opção" noSelectionOption="true"/>
                                <f:selectItems value="#{palavraPortuguesController.itemsAvailableSelectOne}" var="palavraPortugues"
                                               itemValue="#{palavraPortugues}"
                                               itemLabel="#{palavraPortugues.palavra}" itemLabelEscaped="false"/>
                            </p:selectOneMenu>

                            <f:facet name="footer">
                                <p:commandButton id="next" value="responder e próxima" actionListener="#{resolucaoTraduzPalavraController.next()}" update="questoesPanel"/>
                                <p:commandButton id="jump" value="pular" actionListener="#{resolucaoTraduzPalavraController.pular()}" update="questoesPanel"/>
                                <p:commandButton id="previous" value="responder e anterior" actionListener="#{resolucaoTraduzPalavraController.previous()}" update="questoesPanel"/>
                            </f:facet>

                        </p:panel>

                    </h:form>
                </p:layoutUnit>

            </p:layout>            
        </h:form>
    </h:body>
</html>

